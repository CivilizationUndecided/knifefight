@namespace Facepunch.UI
@inherits Panel
@attribute [StyleSheet]

@if ( !Player.IsValid() ) return;

<root class="hud with-deadzone column middle-right">
    @foreach ( var weapon in Inventory.Weapons.OrderByDescending( x => x.Resource.Slot ) )
    {
        <WeaponRow Weapon=@weapon/>
    }
</root>

@code
{
    public PlayerController Player => GameUtils.Viewer;
    public PlayerInventory Inventory => Player.Inventory;
    public Weapon CurrentWeapon => Player?.CurrentWeapon;

    public int GetSlot( Weapon weapon ) => Inventory.Weapons.ToList().IndexOf( weapon );

    protected override int BuildHash()
    {
        return !Player.IsValid() ? 0 : HashCode.Combine( Inventory.Weapons.Count(), CurrentWeapon );
    }
}
