@namespace Facepunch.UI
@inherits Panel
@attribute [StyleSheet]

@if (AmmoComponent.IsValid())
{
    <root class="flex row gap align-center justify-end" style="width: 100px;">
        <label class="vital">@AmmoComponent.Ammo</label>
        <separator />
        <label class="important">@AmmoComponent.MaxAmmo</label>
    </root>
}

@code
{
    /// <summary>
    /// The player's inventory
    /// </summary>
    public PlayerInventory Inventory => Player.Inventory;

    /// The player
    public PlayerController Player => GameUtils.Viewer;

    private AmmoComponent AmmoComponent => Player?.CurrentWeapon?.Components.Get<AmmoComponent>( FindMode.EverythingInSelfAndDescendants );

    protected override int BuildHash()
    {
        return HashCode.Combine(Player, AmmoComponent?.Ammo);
    }
}
