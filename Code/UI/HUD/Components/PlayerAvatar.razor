@namespace Facepunch.UI
@inherits Panel

<root class="@AvatarClasses">
    <div class="avatar">
        <img class="image" src="avatar:@Player.Network.OwnerConnection.SteamId" />
    </div>

    @if ( Player.HealthComponent.State == LifeState.Alive )
    {
        <div class="health">
            <div class="health-inner" style="width:@(Player.HealthComponent.Health)%" />
        </div>
    }
</root>

@code
{
    public PlayerController Player { get; set; }

    private string AvatarClasses
    {
        get
        {
            if ( Player.HealthComponent.State != LifeState.Alive ) return "dead";
            return "";
        }
    }

    protected override int BuildHash()
    {
        return HashCode.Combine(Player, Player.HealthComponent.Health, Player.HealthComponent.State);
    }
}