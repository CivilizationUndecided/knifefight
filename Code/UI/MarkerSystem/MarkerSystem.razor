@namespace Facepunch.UI
@inherits Panel

<root>
    @foreach ( var obj in MarkedObjects.Where( x => x.ShouldShowMarker ) )
    {
        <Marker Object=@obj />
    }
</root>

@code
{
    public IEnumerable<IMarkerObject> MarkedObjects => Game.ActiveScene.GetAllComponents<IMarkerObject>();

    protected override int BuildHash()
    {
        return MarkedObjects.Aggregate( 0, ( current, marker ) => HashCode.Combine( current, marker, marker.ShouldShowMarker ) );
    }
}
